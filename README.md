# Тестовое задание Авито Бэкенд Буткемп

## Автор
Крылов Антон. Tg: [@AntonO7O1](https://t.me/AntonO7O1) (буквы O, вместо цифр 0)

## Как запустить проект

В терминале выполните следующие команды:

```bash
git clone https://github.com/anton0701/realty-avito

cd realty-avito

make -C postgres install-deps

docker-compose -f postgres/docker-compose.yaml up -d --build

sleep 5

make -C postgres local-migration-up

go mod tidy

go run ./cmd/main.go
```

Приложение запустится на `localhost:8083` (порт и хост можно изменить в конфигурационном yaml файле).

### Проблема и решение

В техническом задании было указано, что "Номер квартиры не является уникальным идентификатором. Например, квартира №1 может находиться как в доме №1, так и в доме №2, и в этом случае это будут разные квартиры."

Однако в спецификации API (файл `api.yaml`) ручка `/flat/update` принимает `id` квартиры, и этот `id` должен быть уникальным идентификатором, иначе невозможно определить, какую именно квартиру нужно обновить.

В связи с этим, я сделал `id` квартиры уникальным идентификатором, то есть исключил ситуацию, при которой два разных объекта имеют одинаковый `id`. Я рассматривал возможность добавления дополнительного поля `flat_id` (в дополнение к полям квартиры из технического задания), но отказался от этого решения, так как опасался, что добавление нового поля может сломать тесты, которые, вероятно, будут использоваться при проверке тестового задания.
